<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Facilitate Citation of R Packages • grateful</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Facilitate Citation of R Packages">
<meta name="description" content="Facilitates the citation of R packages used in analysis projects. Scans project for packages used, gets their citations, and produces a document with citations in the preferred bibliography format, ready to be pasted into reports or manuscripts. Alternatively, grateful can be used directly within an R Markdown or Quarto document.">
<meta property="og:description" content="Facilitates the citation of R packages used in analysis projects. Scans project for packages used, gets their citations, and produces a document with citations in the preferred bibliography format, ready to be pasted into reports or manuscripts. Alternatively, grateful can be used directly within an R Markdown or Quarto document.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">grateful</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Pakillo/grateful/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="grateful-facilitate-citation-of-r-packages">grateful: Facilitate citation of R packages<a class="anchor" aria-label="anchor" href="#grateful-facilitate-citation-of-r-packages"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of <strong>grateful</strong> is to make it very easy to cite R and the R packages used in any analyses, so that package authors receive their deserved credit. By calling a single function, <strong>grateful</strong> will scan the project for R packages used and generate a BibTeX file containing all citations for those packages.</p>
<p><strong>grateful</strong> can then generate a new document with citations in the desired output format (Word, PDF, LaTeX, HTML, Markdown). These references can be formatted for a specific journal, so that we can just paste them directly into our manuscript or report.</p>
<p>Alternatively, we can use <strong>grateful</strong> directly within an <a href="https://rmarkdown.rstudio.com/" class="external-link">Rmarkdown</a> or <a href="https://quarto.org/" class="external-link">Quarto</a> document. In this case, a paragraph containing in-text citations of all used R packages will (optionally) be inserted into the Rmarkdown/Quarto document, and these packages will be included in the reference list when rendering.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the stable release of {grateful} from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"grateful"</span><span class="op">)</span></span></code></pre></div>
<p>Or the latest development version from <a href="https://pakillo.r-universe.dev/grateful" class="external-link">R-universe</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"grateful"</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://pakillo.r-universe.dev"</span>, <span class="st">"https://cloud.r-project.org"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Or from GitHub:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Pakillo/grateful"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p><strong>grateful</strong> can be used in one of two ways:</p>
<ol style="list-style-type: decimal">
<li><p>to generate a ‘citation report’ listing each package and their citations</p></li>
<li><p>to build citation keys to incorporate into an existing R Markdown or Quarto document.</p></li>
</ol>
<div class="section level3">
<h3 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<p>Imagine a project where we are using the packages: <em>dplyr</em>, <em>ggplot2</em>, <em>vegan</em> and <em>lme4</em>. We want to collect all the citations listed for these packages, as well as a citation for base R (and for RStudio, if applicable).</p>
</div>
<div class="section level3">
<h3 id="generate-a-document-with-formatted-citations">Generate a document with formatted citations<a class="anchor" aria-label="anchor" href="#generate-a-document-with-formatted-citations"></a>
</h3>
<p>Calling <code><a href="reference/cite_packages.html">cite_packages()</a></code> will scan the project, find these packages, and generate a document with formatted citations.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pakillo.github.io/grateful/">grateful</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>out.dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span>            <span class="co"># save report to working directory</span></span></code></pre></div>
<p><img src="reference/figures/example-output.png"></p>
<p><br></p>
<p>This document can also be a Word or LaTeX document, PDF file, markdown file, or left as the source Rmarkdown file using <code>out.format</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>out.format <span class="op">=</span> <span class="st">"docx"</span>, out.dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span></code></pre></div>
<p>We can specify the citation style for a particular journal using <code>citation.style</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>citation.style <span class="op">=</span> <span class="st">"peerj"</span>, out.dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span></code></pre></div>
<p>In all cases a BibTeX (.bib) file with all package citations will be saved to disk.</p>
<p><br></p>
</div>
<div class="section level3">
<h3 id="using-grateful-with-rmarkdown-or-quarto">Using grateful with Rmarkdown or Quarto<a class="anchor" aria-label="anchor" href="#using-grateful-with-rmarkdown-or-quarto"></a>
</h3>
<p>If you are building a document in <a href="https://rmarkdown.rstudio.com/" class="external-link">RMarkdown</a> or <a href="https://quarto.org/" class="external-link">Quarto</a> and want to cite R packages, <strong>grateful</strong> can automatically generate a BibTeX file and ensure these packages are cited in the appropriate format (see template <a href="https://github.com/Pakillo/grateful/blob/master/Rmd_Quarto/grateful-Rmarkdown.Rmd" class="external-link">Rmarkdown</a> and <a href="https://github.com/Pakillo/grateful/blob/master/Rmd_Quarto/grateful-Quarto.qmd" class="external-link">Quarto</a> documents).</p>
<p>First, include a reference to the BibTeX file in your YAML header.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>bibliography<span class="sc">:</span> grateful<span class="sc">-</span>refs.bib</span></code></pre></div>
<p>(Note: You can reference multiple BibTeX files, if needed)</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>bibliography<span class="sc">:</span> </span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="sc">-</span> document_citations.bib</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="sc">-</span> grateful<span class="sc">-</span>refs.bib</span></code></pre></div>
<p>Then call <code>cite_packages(output = "paragraph")</code> within a code chunk (block or inline) to automatically include a paragraph mentioning all the used packages, and include their references in the bibliography list.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="st">```</span><span class="at">{r}</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="at">cite_packages(output = "paragraph", out.dir = ".")</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="st">```</span></span></code></pre></div>
<p><code>We used R version 4.2.3 [@base] and the following R packages: lme4 v. 1.1.32 [@lme4], tidyverse v. 2.0.0 [@tidyverse], vegan v. 2.6.4 [@vegan].</code></p>
<p>Alternatively, you can get a table with package name, version, and citations, using <code>output = 'table'</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="st">```</span><span class="at">{r }</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="at">pkgs &lt;- cite_packages(output = "table", out.dir = ".")</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="at">knitr::kable(pkgs)</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="st">```</span></span></code></pre></div>
<p><img src="reference/figures/table.png" width="842"></p>
<p>If you want the references to appear in a particular format, you can specify the citation style in the YAML header:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>bibliography<span class="sc">:</span> grateful<span class="sc">-</span>refs.bib</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>csl<span class="sc">:</span> peerj.csl</span></code></pre></div>
<p>Alternatively, you can cite particular packages using the citation keys generated by <strong>grateful</strong>, as with any other BibTeX reference, or just include citations in the References section, using the function <code><a href="reference/nocite_references.html">nocite_references()</a></code>. See the package help and the <a href="https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html" class="external-link">RMarkdown cookbook</a> for more details.</p>
</div>
</div>
<div class="section level2">
<h2 id="frequently-asked-questions">Frequently Asked Questions<a class="anchor" aria-label="anchor" href="#frequently-asked-questions"></a>
</h2>
<div class="section level3">
<h3 id="id_1-getting-just-a-table-with-used-packages-and-versions">1. Getting just a table with used packages and versions<a class="anchor" aria-label="anchor" href="#id_1-getting-just-a-table-with-used-packages-and-versions"></a>
</h3>
<p>Use <code>scan_packages</code></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">scan_packages</span>()</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>         pkg version</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="dv">1</span>     badger   <span class="dv">0</span>.<span class="fl">2.5</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="dv">2</span>       base   <span class="dv">4</span>.<span class="fl">5.1</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="dv">3</span>       desc   <span class="dv">1</span>.<span class="fl">4.3</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="dv">4</span>      knitr    <span class="fl">1.50</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="dv">5</span>       mgcv   <span class="dv">1</span>.<span class="fl">9.3</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="dv">6</span>    pkgdown   <span class="dv">2</span>.<span class="fl">1.3</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="dv">7</span>    remotes   <span class="dv">2</span>.<span class="fl">5.0</span></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="dv">8</span>       renv   <span class="dv">1</span>.<span class="fl">1.5</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="dv">9</span>  rmarkdown    <span class="fl">2.29</span></span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a><span class="dv">10</span>  testthat   <span class="dv">3</span>.<span class="fl">2.3</span></span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="dv">11</span> tidyverse   <span class="dv">2</span>.<span class="fl">0.0</span></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="dv">12</span>    visreg   <span class="dv">2</span>.<span class="fl">7.0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_2-producing-a-bibtex-file-with-package-references">2. Producing a BibTeX file with package references<a class="anchor" aria-label="anchor" href="#id_2-producing-a-bibtex-file-with-package-references"></a>
</h3>
<p>If you just want to get all package references in a BibTeX file, you can call <code><a href="reference/get_pkgs_info.html">get_pkgs_info()</a></code>. Besides printing a table with package info, it will also save a BibTeX file with references. By default, the file will be called <code>grateful-refs.bib</code>, but you can change that (see function help).</p>
<p>If you want to get the BibTeX references for a few specific packages:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_pkgs_info.html">get_pkgs_info</a></span><span class="op">(</span>pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"remotes"</span>, <span class="st">"renv"</span><span class="op">)</span>, out.dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       pkg version citekeys</span></span>
<span><span class="co">#&gt; 1 remotes   2.5.0  remotes</span></span>
<span><span class="co">#&gt; 2    renv   1.1.5     renv</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_3-using-grateful-with-the-tidyverse">3. Using grateful with the tidyverse<a class="anchor" aria-label="anchor" href="#id_3-using-grateful-with-the-tidyverse"></a>
</h3>
<p>If you use one or several packages from the <a href="https://www.tidyverse.org" class="external-link">tidyverse</a>, you can choose to <a href="https://www.tidyverse.org/blog/2019/11/tidyverse-1-3-0/#citing-the-tidyverse" class="external-link">cite the ‘tidyverse’</a> rather than the individual packages:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>cite.tidyverse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_4-including-package-dependencies">4. Including package dependencies<a class="anchor" aria-label="anchor" href="#id_4-including-package-dependencies"></a>
</h3>
<p>Most R packages also depend on other packages. To include those package dependencies in your citations, rather than just the packages you called directly, use <code>dependencies = TRUE</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_5-what-about-external-software-dependencies">5. What about external software dependencies?<a class="anchor" aria-label="anchor" href="#id_5-what-about-external-software-dependencies"></a>
</h3>
<p>Some R packages wrap core external software that should perhaps be cited too. For example, <a href="https://cran.r-project.org/package=rjags" class="external-link"><code>rjags</code></a> is an R wrapper to the <a href="https://mcmc-jags.sourceforge.io/" class="external-link">JAGS</a> software written in C++. Ideally, R packages wrapping core external software will include them in their CITATION file. But otherwise, we can investigate external software requirements of our used packages, e.g. using <code>remotes</code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/system_requirements.html" class="external-link">system_requirements</a></span><span class="op">(</span>package <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rjags"</span><span class="op">)</span>, os <span class="op">=</span> <span class="st">"ubuntu-20.04"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "apt-get install -y jags"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_6-what-software-to-cite">6. What software to cite?<a class="anchor" aria-label="anchor" href="#id_6-what-software-to-cite"></a>
</h3>
<p>Citing software is pretty much like citing papers. Authors have to decide what to cite in each case, which depends on research context.</p>
<p>As written in the Software Citation Principles paper (<a href="https://doi.org/10.7717/peerj-cs.86" class="external-link">Smith et al. 2016)</a>:</p>
<blockquote>
<p>The software citation principles do not define what software should be cited, but rather how software should be cited. What software should be cited is the decision of the author(s) of the research work in the context of community norms and practices, and in most research communities, these are currently in flux. In general, we believe that software should be cited on the same basis as any other research product such as a paper or book; that is, authors should cite the appropriate set of software products just as they cite the appropriate set of papers, perhaps following the FORCE11 Data Citation Working Group principles, which state, “In scholarly literature, whenever and wherever a claim relies upon data, the corresponding data should be cited”</p>
</blockquote>
<p>And these are the guidelines from the <a href="https://doi.org/10.5281/zenodo.3479198" class="external-link">Software Citation Checklist</a>:</p>
<blockquote>
<p>You should cite software that has a significant impact on the research outcome presented in your work, or on the way the research has been conducted. If the research you are presenting is not repeatable without a piece of software, then you should cite the software. Note that the license or copyright of the software has no bearing on whether you should cite it.</p>
</blockquote>
<blockquote>
<p>This might include:</p>
</blockquote>
<blockquote>
<p>Software (including scripts) you have written yourself to conduct the research presented. A software framework / platform upon which the software you wrote to conduct the research relies. Software packages, plugins, modules and libraries you used to conduct your research and that perform a critical role in your results. Software you have used to simulate or model phenomena/systems. Specialist software (which is not considered commonplace in your field) used to prepare, manage, analyse or visualise data. Software being evaluated or compared as part of the research presented Software that has produced analytic results or other output, especially if used through an interface.</p>
</blockquote>
<blockquote>
<p>In general, you do not need to cite:</p>
</blockquote>
<blockquote>
<p>Software packages or libraries that are not fundamental to your work and that are a normal part of the computational and scientific environment used. These dependencies do not need to be cited outright but should be documented as part of the computational workflow for complete reproducibility. Software that was used during the course of the research but had no impact on research results, e.g. word processing software, backup software.</p>
</blockquote>
<p>Apart from citing the software most relevant to the particular research/analysis performed, I think it is good idea to record the entire computational environment elsewhere, e.g. using <code><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo()</a></code> or <code><a href="https://sessioninfo.r-lib.org/reference/session_info.html" class="external-link">sessioninfo::session_info()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="id_7-some-packages-include-several-citations">7. Some packages include several citations<a class="anchor" aria-label="anchor" href="#id_7-some-packages-include-several-citations"></a>
</h3>
<p>Some packages include more than one citation (e.g. <a href="https://cran.r-project.org/package=knitr/citation.html" class="external-link">knitr</a>, <a href="https://cran.r-project.org/package=knitr/citation.html" class="external-link">mgcv</a>). <code>grateful</code> will include all those citations by default, as it is impossible to decide automatically which citations should be included in each case. The user may manually remove citations from the produced reference list after calling <code>cite_packages</code>. If using Quarto or Rmarkdown, we can generate the citation paragraph and manually remove the unwanted references so they will not appear cited.</p>
<p>For example, <code>mgcv</code> package provides multiple references to be cited:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"mgcv"</span><span class="op">)</span></span></code></pre></div>
<p>To choose just one of them to be cited, we could generate a citation paragraph using <code>cite_packages</code></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span><span class="st">"paragraph"</span>, out.dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/paragraph.png"></p>
<p>And then manually remove the unwanted citation keys, leaving just those we want to cite:</p>
<p><img src="reference/figures/paragraph_edited.png"></p>
<p>When rendering the Rmarkdown or Quarto document, only the chosen references will be cited.</p>
</div>
<div class="section level3">
<h3 id="id_8-removing-unused-packages">8. Removing unused packages<a class="anchor" aria-label="anchor" href="#id_8-removing-unused-packages"></a>
</h3>
<p>Before running <code>grateful</code> you might want to run <a href="https://lintr.r-lib.org/reference/unused_import_linter.html" class="external-link"><code>lintr::unused_import_linter</code></a>, <a href="https://cran.r-project.org/package=funchir" class="external-link"><code>funchir::stale_package_check</code></a> or <a href="https://cran.r-project.org/package=annotater" class="external-link">annotater</a> to check for unused packages before citing them.</p>
</div>
<div class="section level3">
<h3 id="id_9-error-there-is-no-package-called">9. Error: there is no package called…<a class="anchor" aria-label="anchor" href="#id_9-error-there-is-no-package-called"></a>
</h3>
<p>If getting an error like <code>Error in (function (pkg, lib.loc = NULL): there is no package called...</code>, that means that some of your scripts is loading a package that is no longer available in your computer, so {grateful} cannot grab its citation. To fix this, there are several options. First, you could omit that package (or those packages, if more than one) from {grateful} citations using <code>cite_packages(omit = c("package1", "package2")</code>. Second, you could set a <code>.renvignore</code> file to ignore particular files or folders (see instructions <a href="https://rstudio.github.io/renv/reference/dependencies.html#ignoring-files" class="external-link">here</a>). Third, try <a href="https://pakillo.github.io/grateful/index.html#removing-unused-packages">checking if that package is still needed</a> for your project and you want to cite it; otherwise remove or comment that line where the package is loaded. If you still use and want to cite that package, install it, and then run <code>cite_packages</code> again. Finally, you could use the argument <code>skip.missing = TRUE</code> to skip those missing packages from the citation list.</p>
</div>
<div class="section level3">
<h3 id="id_10-projects-with-large-number-of-packages-or-files">10. Projects with large number of packages or files<a class="anchor" aria-label="anchor" href="#id_10-projects-with-large-number-of-packages-or-files"></a>
</h3>
<p>When a project includes many used packages (or files), <code>renv</code> may issue a warning. Use <code>options(renv.config.dependencies.limit = 10000)</code> to overcome the warning and scan the project for all packages used. Alternatively, use <code>.renvignore</code> to ignore certain files or folders (see <code>renv</code> <a href="https://rstudio.github.io/renv/reference/dependencies.html#ignoring-files" class="external-link">help</a>).</p>
</div>
<div class="section level3">
<h3 id="id_11-separate-bibliography-for-r-packages">11. Separate bibliography for R packages<a class="anchor" aria-label="anchor" href="#id_11-separate-bibliography-for-r-packages"></a>
</h3>
<p><a href="https://github.com/Pakillo/grateful/tree/master/Rmd_Quarto/separate_bibliographies" class="external-link">Here</a> are example <a href="https://github.com/Pakillo/grateful/blob/master/Rmd_Quarto/separate_bibliographies/grateful-Quarto-separatebib.qmd" class="external-link">Quarto</a> and <a href="https://github.com/Pakillo/grateful/blob/master/Rmd_Quarto/separate_bibliographies/grateful-Rmarkdown-separatebib.Rmd" class="external-link">Rmarkdown</a> documents showing how to generate a separate bibliography for R packages (different from the main bibliography). This requires installing the <a href="https://github.com/pandoc-ext/multibib" class="external-link"><code>multibib</code></a> extension first.</p>
</div>
<div class="section level3">
<h3 id="id_12-citing-the-dependencies-of-an-r-package">12. Citing the dependencies of an R package<a class="anchor" aria-label="anchor" href="#id_12-citing-the-dependencies-of-an-r-package"></a>
</h3>
<p>To cite the dependencies of an R package as stated in its DESCRIPTION file, use <code>pkgs = c("Depends", "Imports", "Suggests", "LinkingTo")</code> or a combination of them to obtain the desired type of dependencies.</p>
<p>For example, these are {grateful} package ‘Imports’ and ‘Suggests’:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>output <span class="op">=</span> <span class="st">"table"</span>, out.dir <span class="op">=</span> <span class="st">"."</span>, pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Imports"</span>, <span class="st">"Suggests"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      Package  Version                                       Citation</span></span>
<span><span class="co">#&gt; 1       curl     &lt;NA&gt;                                          @curl</span></span>
<span><span class="co">#&gt; 2       desc     &lt;NA&gt;                                          @desc</span></span>
<span><span class="co">#&gt; 3      knitr     &lt;NA&gt;             @knitr2014; @knitr2015; @knitr2025</span></span>
<span><span class="co">#&gt; 4    remotes     &lt;NA&gt;                                       @remotes</span></span>
<span><span class="co">#&gt; 5       renv     &lt;NA&gt;                                          @renv</span></span>
<span><span class="co">#&gt; 6  rmarkdown     &lt;NA&gt; @rmarkdown2018; @rmarkdown2020; @rmarkdown2024</span></span>
<span><span class="co">#&gt; 7 rstudioapi     &lt;NA&gt;                                    @rstudioapi</span></span>
<span><span class="co">#&gt; 8   testthat &gt;= 3.0.0                                      @testthat</span></span>
<span><span class="co">#&gt; 9      utils     &lt;NA&gt;                                         @utils</span></span></code></pre></div>
<p>To also include the dependencies from those packages, use <code>dependencies = TRUE</code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>output <span class="op">=</span> <span class="st">"table"</span>, out.dir <span class="op">=</span> <span class="st">"."</span>, pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Imports"</span>, <span class="st">"Suggests"</span><span class="op">)</span>, </span>
<span>                     dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span><span class="co">#&gt;     Package Version   Citation</span></span>
<span><span class="co">#&gt; 1 base64enc    &lt;NA&gt; @base64enc</span></span>
<span><span class="co">#&gt; 2      brio    &lt;NA&gt;      @brio</span></span>
<span><span class="co">#&gt; 3     bslib    &lt;NA&gt;     @bslib</span></span>
<span><span class="co">#&gt; 4    cachem    &lt;NA&gt;    @cachem</span></span>
<span><span class="co">#&gt; 5     callr    &lt;NA&gt;     @callr</span></span>
<span><span class="co">#&gt; 6       cli    &lt;NA&gt;       @cli</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_13-changing-the-language-of-the-citation-paragraph">13. Changing the language of the citation paragraph<a class="anchor" aria-label="anchor" href="#id_13-changing-the-language-of-the-citation-paragraph"></a>
</h3>
<p><code>cite_packages</code> includes a few arguments (<code>text.start</code>, <code>text.pkgs</code> and <code>text.RStudio</code>) to allow the user to customise the language of the citation paragraph.</p>
<p>For example, to produce a citation paragraph in Spanish:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>output <span class="op">=</span> <span class="st">"paragraph"</span>, out.dir <span class="op">=</span> <span class="st">"."</span>, </span>
<span>              text.start <span class="op">=</span> <span class="st">"Para desarrollar este trabajo se utilizó"</span>,</span>
<span>              text.pkgs <span class="op">=</span> <span class="st">"y los siguientes paquetes"</span><span class="op">)</span></span></code></pre></div>
<p><code>"Para desarrollar este trabajo se utilizó R version 4.5.1 [@base] y los siguientes paquetes: badger v. 0.2.5 [@badger], desc v. 1.4.3 [@desc], knitr v. 1.50 [@knitr2014; @knitr2015; @knitr2025], mgcv v. 1.9.3 [@mgcv2003; @mgcv2004; @mgcv2011; @mgcv2016; @mgcv2017], pkgdown v. 2.1.3 [@pkgdown], remotes v. 2.5.0 [@remotes], renv v. 1.1.5 [@renv], rmarkdown v. 2.29 [@rmarkdown2018; @rmarkdown2020; @rmarkdown2024], testthat v. 3.2.3 [@testthat], tidyverse v. 2.0.0 [@tidyverse], visreg v. 2.7.0 [@visreg]."</code></p>
<p>Or in German:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>output <span class="op">=</span> <span class="st">"paragraph"</span>, out.dir <span class="op">=</span> <span class="st">"."</span>, </span>
<span>              text.start <span class="op">=</span> <span class="st">"Wir verwendeten die"</span>,</span>
<span>              text.pkgs <span class="op">=</span> <span class="st">"und die folgenden R-Pakete"</span><span class="op">)</span></span></code></pre></div>
<p><code>"Wir verwendeten die R version 4.5.1 [@base] und die folgenden R-Pakete: badger v. 0.2.5 [@badger], desc v. 1.4.3 [@desc], knitr v. 1.50 [@knitr2014; @knitr2015; @knitr2025], mgcv v. 1.9.3 [@mgcv2003; @mgcv2004; @mgcv2011; @mgcv2016; @mgcv2017], pkgdown v. 2.1.3 [@pkgdown], remotes v. 2.5.0 [@remotes], renv v. 1.1.5 [@renv], rmarkdown v. 2.29 [@rmarkdown2018; @rmarkdown2020; @rmarkdown2024], testthat v. 3.2.3 [@testthat], tidyverse v. 2.0.0 [@tidyverse], visreg v. 2.7.0 [@visreg]."</code></p>
</div>
<div class="section level3">
<h3 id="id_14-citing-grateful">14. Citing ‘grateful’<a class="anchor" aria-label="anchor" href="#id_14-citing-grateful"></a>
</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">"grateful"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>To cite package <span class="st">'grateful'</span> <span class="cf">in</span> publications use<span class="sc">:</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>  Rodriguez<span class="sc">-</span>Sanchez F, Jackson <span class="fu">C</span> (<span class="dv">2024</span>). _grateful<span class="sc">:</span> Facilitate citation</span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>  of R packages_. <span class="sc">&lt;</span>https<span class="sc">:</span><span class="er">//</span>pakillo.github.io<span class="sc">/</span>grateful<span class="sc">/</span><span class="er">&gt;</span>.</span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a>A BibTeX entry <span class="cf">for</span> LaTeX users is</span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a>  <span class="sc">@</span>Manual{,</span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a>    title <span class="ot">=</span> {grateful<span class="sc">:</span> Facilitate citation of {R} packages},</span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a>    author <span class="ot">=</span> {Francisco Rodriguez<span class="sc">-</span>Sanchez and Connor P. Jackson},</span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a>    year <span class="ot">=</span> {<span class="dv">2024</span>},</span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a>    url <span class="ot">=</span> {https<span class="sc">:</span><span class="er">//</span>pakillo.github.io<span class="sc">/</span>grateful<span class="sc">/</span>},</span>
<span id="cb24-14"><a href="#cb24-14" tabindex="-1"></a>  }</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<p>Citation keys are not guaranteed to be preserved when regenerated, particularly when packages are updated. This instability is not an issue when citations are used programmatically, as in the example above. But if references are put into the text manually, they may need to be updated periodically.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=grateful" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/Pakillo/grateful/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Pakillo/grateful/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing grateful</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Francisco Rodriguez-Sanchez <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-7981-1599" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Connor P. Jackson <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4220-5210" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=grateful" class="external-link"><img src="https://www.r-pkg.org/badges/version/grateful"></a></li>
<li><a href="https://diffify.com/R/grateful" target="_blank" class="external-link"><img src="https://diffify.com/diffify-badge.svg" alt="The diffify page for the R package grateful" style="width: 100px; max-width: 100%;"></a></li>
<li><a href="https://github.com/Pakillo/grateful/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/Pakillo/grateful/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/Pakillo/grateful?branch=master" class="external-link"><img src="https://codecov.io/gh/Pakillo/grateful/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active - The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://cran.r-project.org/package=grateful" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/grateful"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francisco Rodriguez-Sanchez, Connor P. Jackson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
